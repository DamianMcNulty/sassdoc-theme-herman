{% import 'item/macros.j2' as code %}
{% import 'item/preview.macros.j2' as preview %}

{% set slug = item.context.name|urlencode|replace("'", '') %}
{% set id = [type, slug]|join('--') %}

<section data-sassdoc-item='{{ type }}' id="{{ id }}">
  {% set item_name = [item.context.name, '()']|join if (type == 'mixin' or type == 'function') else item.context.name %}
  {% set item_name = ['$', item_name]|join if (type == 'variable') else item_name %}
  {% set display_type = ['@', type]|join if ((type == 'mixin') or (type == 'function')) else type %}
  {% set display_private = display and display.access and 'private' in display.access %}

  <h3 data-sassdoc="item-title">
    {% if not ((type == 'variable') or (type == 'css')) %}
      <span data-sassdoc="item-type">{{ display_type }}</span>
    {% endif %}

    <span data-sassdoc="item-name">{{ item_name }}</span>

    {% if item.type %}
      <span data-sassdoc="var-type">({{ item.type }})</span>
    {% endif %}
  </h3>

  {% if item.description %}
    <div data-sassdoc="item-description">
      {{ item.description|safe }}
    </div>
  {% endif %}

  {% if not item.parameter %}
    {{ code.source(item, type) }}
  {% endif %}

  {{ code.property(item) }}
  {{ code.parameter(item) }}

  {{ code.link(item) }}
  {{ code.see(item, display_private) }}
  {{ code.require(item, display_private) }}
  {{ code.todo(item) }}

  {{ code.examples(item.example, id) }}

  {{ preview.icons(item.icons) }}
  {{ preview.show_previews(
    data=sassjson,
    name=item.context.name,
    args=item.preview
    ) }}
</section>
